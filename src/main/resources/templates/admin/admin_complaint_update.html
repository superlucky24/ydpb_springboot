<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>민원답변수정 | 관리자페이지 | 영등포본동 주민센터</title>

    <link rel="shortcut icon" th:href="@{/images/favicon.ico}">
    <link rel="stylesheet" th:href="@{/css/reset.css}">
    <link rel="stylesheet" th:href="@{/css/ydpb.css}">
    <link rel="stylesheet" th:href="@{/css/ydpb_community_center_write.css}">
    <script th:src="@{/js/admin.js}"></script>
    <script th:src="@{/js/jquery-1.12.4.min.js}"></script>
    <script th:src="@{/js/prefixfree.min.js}"></script>
    <!--    <script>const menuName = '민원답변';</script>-->
    <script th:src="@{/js/ydpb.js}"></script>
    <script th:src="@{/js/ydpb_community_center_write.js}"></script>
</head>
<body>
<div id="wrap">
    <!-- header -->
    <header class="header" th:replace="admin/common/admin_header_footer :: header"></header>
    <!-- //header -->

    <!-- search -->
    <div class="search"></div>
    <!-- //search -->

    <!-- container -->
    <div class="container">
        <div class="contents_wrap safe_area">
            <!-- side menu -->
            <aside class="side_menu" th:replace="admin/common/admin_sidemenu :: side"></aside>
            <!-- //side menu -->

            <!-- main -->
            <main>
                <!-- location -->
                <div class="location">
                    <div class="location_title">
                        <h2>민원 답변 작성</h2>
                    </div>
<!--                    <div class="location_path">-->
<!--                        <span class="loc_home">홈</span>-->
<!--                        <span class="loc_arrow">></span>-->
<!--                        <span class="loc_text">-->
<!--                                    <a href="..">동주민센터</a>-->
<!--                                </span>-->
<!--                        <span class="loc_arrow">></span>-->
<!--                        <span class="loc_text">-->
<!--                                    <a href="..">영등포본동</a>-->
<!--                                </span>-->
<!--                        <span class="loc_arrow">></span>-->
<!--                        <span class="loc_text">-->
<!--                                    <a href="..">관리자 페이지</a>-->
<!--                                </span>-->
<!--                        <span class="loc_arrow">></span>-->
<!--                        <span class="loc_text">-->
<!--                                    <a href="civil_complaint_list.html">민원 답변</a>-->
<!--                                </span>-->
<!--                    </div>-->
<!--                    <div class="location_icon">-->
<!--                        <ul class="loc_fixed_icon">-->
<!--                            <li><button type="button" class="loc_print">프린트</button></li>-->
<!--                            <li class="icon_sns">-->
<!--                                <button type="button" class="loc_sns">SNS</button>-->
<!--                                <div class="sns_list">-->
<!--                                    <a href="#" class="loc_sns_icon1">a</a>-->
<!--                                    <a href="#" class="loc_sns_icon2">a</a>-->
<!--                                    <a href="#" class="loc_sns_icon3">a</a>-->
<!--                                    <a href="#" class="loc_sns_icon4">a</a>-->
<!--                                    <a href="#" class="loc_sns_icon5">a</a>-->
<!--                                </div>-->
<!--                            </li>-->
<!--                        </ul>-->
<!--                    </div>-->
                </div>
                <!-- location -->

                <!-- contents -->
                <div class="contents">
                    <div class="board_write">
                        <p class="text_alert alert_write"><span class="required_mark">필수항목</span> 표시는 필수 항목 입니다.</p>
                        <form th:action="@{/admin/complaint/update}" method="post" onreset="clearForm(this)">
<!--                        페이징용 데이터 추가-->
                            <input type="hidden" name="pageNum" th:value= "${cri.pageNum }"  />
                            <input type="hidden" name="amount" th:value= "${cri.amount }"  />
<!--                        수정용 글번호 데이터 추가-->
                            <input type="hidden" name="comId" th:value= "${complaint.comId }"  />
                            <table class="table_form">
                                <caption class="blind">민원 게시판 답변</caption>
                                <colgroup>
                                    <col class="col1">
                                    <col class="col2">
                                </colgroup>
                                <tbody>
                                <tr>
                                    <th scope="row">
                                        <label for="comTitle">제목</label>
<!--                                        <span class="required_mark">필수항목</span>-->
                                    </th>
                                    <td>
                                        <input type="text" name="comTitle" id="comTitle" class="input form_input" maxlength="300"
                                               th:value="${complaint.getComTitle()}" required disabled>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">
                                        <label for="comcontent">내용</label>
<!--                                        <span class="required_mark">필수항목</span>-->
                                    </th>
                                    <td>
                                        <textarea name="comcontent" id="comcontent" class="input" rows="10" maxlength="4000" required disabled
                                            th:text="${complaint.getComContent()}">구로디지털...</textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">
                                        <label for="comAnswer">답변</label>
                                        <span class="required_mark">필수항목</span>
                                    </th>
                                    <td>
                                        <textarea name="comAnswer" id="comAnswer" class="input" rows="10" maxlength="4000" required
                                                  th:text="${complaint.getComAnswer()}"></textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">
                                        처리상황
                                        <span class="required_mark">필수항목</span>
                                    </th>
                                    <td>
                                        <div class="radio">
                                            <input type="radio" name="comStatus" id="comStatusIng" value="진행중" checked>
                                            <label for="comStatusIng">진행중</label>
                                        </div>
                                        <div class="radio">
                                            <input type="radio" name="comStatus" id="comStatusEnd" value="완료">
                                            <label for="comStatusEnd">완료</label>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <div class="btns">
                                <button data-oper="list"  type="submit"  class="btn btn_default">목록</button>
                                <button data-oper="update" type="submit" class="btn btn_write" >저장</button>
                                <button type="reset" class="btn btn_cancel" >삭제</button>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- //contents -->

                <!-- charge info -->
<!--                <div class="charge_info">-->
<!--                    <ul>-->
<!--                        <li>-->
<!--                            <span class="info_name">담당부서</span>-->
<!--                            <span>영등포본동</span>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <span class="info_name">담당전화번호</span>-->
<!--                            <span>02-2670-1026</span>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
                <!-- //charge info -->
            </main>
            <!-- //main -->
        </div>
    </div>
    <!-- //container -->

    <!-- footer -->
    <footer class="footer" th:replace="admin/common/admin_header_footer :: footer"></footer>
    <!-- //footer -->
    <!-- 스크립트 추가 -->
    <script type="text/javascript">
        $(document).ready(function() {
            //form 태그 할당
            var formObj = $("form");
            //이벤트 : button 클릭
            $('button').on('click',function(e){
                // alert('버튼 클릭');
                e.preventDefault();//브라우저 기본 기능 제거

                var operation  = $(this).data("oper");
                // 콘솔 출력
                console.log(operation);
                if(operation ==='list'){
                    formObj.attr("action","/admin/complaint/list").attr("method","get");
                    var pageNumTag = $("input[name='pageNum']").clone();
                    var amountTag = $("input[name='amount']").clone();

                    formObj.empty();

                    formObj.append(pageNumTag);
                    formObj.append(amountTag);

                }else if(operation ==='update'){
                    formObj.attr("action","/admin/complaint/update");
                }
                console.log(formObj.serialize());
                // 폼 submit() 실행
                formObj.submit();
            });
        });
    </script>
</div>
</body>
</html>
